"use strict";(self["webpackChunksanyue_imghub"]=self["webpackChunksanyue_imghub"]||[]).push([[549],{549:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var n=a(47),i=(a(5331),a(9648),a(6768)),o=a(4232);const s={class:"blocked-container"},r=["innerHTML"],c={class:"blocked-content"},l={class:"back-button-wrapper"},d={class:"status-animation"},u={class:"status-icon"},g={class:"status-badge"},m={class:"status-info"},p={class:"status-title"},h={class:"status-description"},k={class:"status-actions"},b={class:"help-info"},y={class:"help-text"},v={class:"quick-links"};function I(e,t,a,I,f,B){const C=(0,i.g2)("font-awesome-icon"),W=n.S2;return(0,i.uX)(),(0,i.CE)("div",s,[(0,i.Lk)("div",{class:"background-wrapper",innerHTML:e.backgroundImagesTemplate},null,8,r),(0,i.Lk)("div",c,[(0,i.Lk)("div",l,[(0,i.bF)(W,{class:"back-button",onClick:B.goHome,circle:"",size:"large"},{default:(0,i.k6)(()=>[(0,i.bF)(C,{icon:"home"})]),_:1},8,["onClick"])]),(0,i.Lk)("div",d,[(0,i.Lk)("div",u,[(0,i.bF)(C,{icon:"ban",class:"ban-icon"}),(0,i.Lk)("div",g,[(0,i.bF)(C,{icon:"exclamation",class:"exclamation-icon"})])])]),(0,i.Lk)("div",m,[(0,i.Lk)("h1",p,(0,o.v_)(e.$t("error.imageBlocked")),1),(0,i.Lk)("p",h,(0,o.v_)(e.$t("error.imageBlockedDesc")),1),t[3]||(t[3]=(0,i.Lk)("p",{class:"status-description-en"}," Sorry, current image is prohibited from being accessed. ",-1)),(0,i.Lk)("div",k,[(0,i.bF)(W,{type:"primary",size:"large",class:"action-btn primary-btn",onClick:B.goHome},{default:(0,i.k6)(()=>[(0,i.bF)(C,{icon:"home",class:"btn-icon"}),(0,i.eW)(" "+(0,o.v_)(e.$t("error.backHome")),1)]),_:1},8,["onClick"]),(0,i.bF)(W,{size:"large",class:"action-btn secondary-btn",onClick:B.goBack},{default:(0,i.k6)(()=>[(0,i.bF)(C,{icon:"arrow-left",class:"btn-icon"}),(0,i.eW)(" "+(0,o.v_)(e.$t("common.back")),1)]),_:1},8,["onClick"])]),(0,i.Lk)("div",b,[(0,i.Lk)("p",y,(0,o.v_)(e.$t("error.youMayTry")||"You may try:"),1),(0,i.Lk)("div",v,[(0,i.Lk)("a",{href:"javascript:void(0)",onClick:t[0]||(t[0]=(...e)=>B.goHome&&B.goHome(...e)),class:"quick-link"},[(0,i.bF)(C,{icon:"cloud-upload-alt"}),(0,i.eW)(" "+(0,o.v_)(e.$t("common.upload")),1)]),(0,i.Lk)("a",{href:"javascript:void(0)",onClick:t[1]||(t[1]=(...e)=>B.refreshPage&&B.refreshPage(...e)),class:"quick-link"},[(0,i.bF)(C,{icon:"redo"}),(0,i.eW)(" "+(0,o.v_)(e.$t("common.refresh")),1)]),(0,i.Lk)("a",{href:"javascript:void(0)",onClick:t[2]||(t[2]=(...e)=>B.contactSupport&&B.contactSupport(...e)),class:"quick-link"},[(0,i.bF)(C,{icon:"question-circle"}),(0,i.eW)(" "+(0,o.v_)(e.$t("error.contactSupport")||"Contact Support"),1)])])]),t[4]||(t[4]=(0,i.Lk)("div",{class:"powered-by"},[(0,i.Lk)("p",null,[(0,i.eW)("Powered By: "),(0,i.Lk)("a",{href:"https://github.com/MarSeventh/CloudFlare-ImgBed",class:"project-link"}," CloudFlare-ImgBed ")])],-1))])]),t[5]||(t[5]=(0,i.Fv)('<div class="floating-elements" data-v-da3a8066><div class="floating-shape shape-1" data-v-da3a8066></div><div class="floating-shape shape-2" data-v-da3a8066></div><div class="floating-shape shape-3" data-v-da3a8066></div><div class="floating-shape shape-4" data-v-da3a8066></div><div class="floating-shape shape-5" data-v-da3a8066></div></div>',1))])}a(4114);var f=a(4354),B=a(8401),C=a(8903),W={name:"BlockedImage",mixins:[C.A],computed:{...(0,B.L8)(["useDarkMode","userConfig"])},setup(){(0,f.u)({title:"Blocked Image",meta:[{name:"robots",content:"noindex, nofollow"},{name:"viewport",content:"width=device-width, initial-scale=1"},{charset:"UTF-8"}]})},mounted(){this.initializeBackground("uploadBkImg",".blocked-container",!1,!0)},beforeUnmount(){this.clearBackgroundInterval()},methods:{goHome(){this.$router.push("/")},goBack(){window.history.length>1?this.$router.go(-1):this.$router.push("/")},refreshPage(){window.location.reload()},contactSupport(){window.open("https://github.com/MarSeventh/CloudFlare-ImgBed/issues","_blank")}}},P=a(1241);const w=(0,P.A)(W,[["render",I],["__scopeId","data-v-da3a8066"]]);var x=w},732:function(e,t,a){e.exports=a.p+"img/background.ea1b7ee7.jpg"},7835:function(e,t,a){e.exports=a.p+"img/background-light.f17603bc.jpg"},8903:function(e,t,a){var n=a(8401);t.A={data(){return{bingWallPaperIndex:0,customWallPaperIndex:0,backgroundInterval:null,backgroundInitParams:null}},computed:{...(0,n.L8)(["userConfig","bingWallPapers","useDarkMode"]),bkInterval(){return this.userConfig?.bkInterval||3e3},bkOpacity(){return this.userConfig?.bkOpacity||1},backgroundImagesTemplate(){return'\n        <img id="bg1" class="background-image1" alt="Background Image"/>\n        <img id="bg2" class="background-image2" alt="Background Image"/>\n      '},backgroundImagesStyles(){return"\n        .background-image1 {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          z-index: -1;\n          opacity: 0;\n          transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n        .background-image2 {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          z-index: -1;\n          opacity: 0;\n          transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n      "}},watch:{useDarkMode(e,t){e!==t&&this.backgroundInitParams&&this.$nextTick(()=>{this.smoothThemeTransition(this.backgroundInitParams.configKey,this.backgroundInitParams.containerSelector,this.backgroundInitParams.useDefaultBackground,this.backgroundInitParams.autoCreateElements)})}},mounted(){this.injectBackgroundStyles()},beforeUnmount(){this.backgroundInterval&&clearInterval(this.backgroundInterval),this.clearBackgroundImages(!0),this.removeBackgroundStyles()},methods:{injectBackgroundStyles(){const e="background-manager-styles";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.textContent=this.backgroundImagesStyles,document.head.appendChild(t)}},removeBackgroundStyles(){const e="background-manager-styles",t=document.getElementById(e);t&&t.remove()},createBackgroundElements(e){if(!e)return void console.warn("未提供有效的容器元素");if(document.getElementById("bg1")||document.getElementById("bg2"))return;const t=document.createElement("img");t.id="bg1",t.className="background-image1",t.alt="Background Image";const a=document.createElement("img");a.id="bg2",a.className="background-image2",a.alt="Background Image",e.insertBefore(t,e.firstChild),e.insertBefore(a,e.firstChild)},initializeBackground(e,t=".login",a=!1,n=!1){if(this.backgroundInitParams={configKey:e,containerSelector:t,useDefaultBackground:a,autoCreateElements:n},n){const e=document.querySelector(t);!e||document.getElementById("bg1")&&document.getElementById("bg2")||this.createBackgroundElements(e)}const i=document.getElementById("bg1"),o=document.getElementById("bg2");if(!i||!o)return void console.warn("背景图元素 #bg1 或 #bg2 未找到，请确保页面中包含这些元素或启用 autoCreateElements");const s=this.userConfig?.[e];"bing"===s?this.setupBingWallpaper(i,o,t):Array.isArray(s)&&s.length>1?this.setupCustomWallpaperCarousel(i,o,s,t):Array.isArray(s)&&1===s.length?this.setupSingleCustomWallpaper(i,s[0],t):a&&this.setupDefaultWallpaper(i,t)},setupBingWallpaper(e,t,a){this.$store.dispatch("fetchBingWallPapers").then(()=>{0!==this.bingWallPapers.length&&(this.loadBackgroundImage(e,this.bingWallPapers[this.bingWallPaperIndex]?.url,a),this.backgroundInterval=setInterval(()=>{this.switchBingWallpaper(e,t)},this.bkInterval))})},setupCustomWallpaperCarousel(e,t,a,n){this.loadBackgroundImage(e,a[this.customWallPaperIndex],n),this.backgroundInterval=setInterval(()=>{this.switchCustomWallpaper(e,t,a)},this.bkInterval)},setupSingleCustomWallpaper(e,t,a){this.loadBackgroundImage(e,t,a)},setupDefaultWallpaper(e,t){const n=this.useDarkMode,i=a(n?732:7835);this.loadBackgroundImage(e,i,t)},loadBackgroundImage(e,t,a){e.src=t,e.onload=()=>{e.style.opacity=this.bkOpacity;const t=document.querySelector(a);t&&(t.style.background="transparent")}},switchBingWallpaper(e,t){if(0===this.bingWallPapers.length)return;const a=0!=e.style.opacity?e:t,n=0!=e.style.opacity?t:e;a.style.opacity=0,this.bingWallPaperIndex=(this.bingWallPaperIndex+1)%this.bingWallPapers.length,n.src=this.bingWallPapers[this.bingWallPaperIndex]?.url,n.onload=()=>{n.style.opacity=this.bkOpacity}},switchCustomWallpaper(e,t,a){const n=0!=e.style.opacity?e:t,i=0!=e.style.opacity?t:e;n.style.opacity=0,this.customWallPaperIndex=(this.customWallPaperIndex+1)%a.length,i.src=a[this.customWallPaperIndex],i.onload=()=>{i.style.opacity=this.bkOpacity}},clearBackgroundInterval(){this.backgroundInterval&&(clearInterval(this.backgroundInterval),this.backgroundInterval=null)},clearBackgroundImages(e=!1){const t=document.getElementById("bg1"),a=document.getElementById("bg2");e?(t&&(t.style.transition="none",t.style.opacity=0,t.src="",setTimeout(()=>{t&&(t.style.transition="opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1)")},50)),a&&(a.style.transition="none",a.style.opacity=0,a.src="",setTimeout(()=>{a&&(a.style.transition="opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1)")},50))):(t&&(t.style.opacity=0,setTimeout(()=>{t&&(t.src="")},800)),a&&(a.style.opacity=0,setTimeout(()=>{a&&(a.src="")},800)))},smoothThemeTransition(e,t=".login",n=!1,i=!1){const o=this.userConfig?.[e];if(!n||void 0!==o)return void this.reinitializeBackground(e,t,n,i);const s=document.getElementById("bg1"),r=document.getElementById("bg2");if(!s||!r)return void this.reinitializeBackground(e,t,n,i);const c=0!=s.style.opacity?s:r,l=0!=s.style.opacity?r:s,d=this.useDarkMode,u=a(d?732:7835),g=new Image;g.onload=()=>{l.src=u,l.onload=()=>{c.style.opacity=0,setTimeout(()=>{l.style.opacity=this.bkOpacity;const e=document.querySelector(t);e&&(e.style.background="transparent")},50)}},g.onerror=()=>{console.warn("主题背景图预加载失败，回退到直接切换"),this.reinitializeBackground(e,t,n,i)},g.src=u},reinitializeBackground(e,t=".login",a=!1,n=!1){this.clearBackgroundInterval(),this.clearBackgroundImages(!0),this.bingWallPaperIndex=0,this.customWallPaperIndex=0,setTimeout(()=>{this.initializeBackground(e,t,a,n)},100)}}}}}]);
//# sourceMappingURL=549.7d761c61.js.map